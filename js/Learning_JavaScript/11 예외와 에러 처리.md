- 210712 : 1회독
- 210713 : 1회차 정리

[송지원 전반적인 예시 코드는 생략함]

## 11.1 Error 객체
## 11.2 try/catch와 예외 처리
## 11.3 에러 일으키기
## 11.4 에외 처리와 호출 스택
## 11.5 try...catch...finally
## 11.6 요약

<br>
<br>
<br>
<br>


## 11.  예외와 에러 처리

예외 처리(Exception handling)는 에러를 컨트롤하는 메커니즘   
=> 에러 처리라고 하지 않고 '예외 처리'라고 하는 이유는 예상치 못한 상황에 대처하는 방식이기 때문


<br>
<br>
<br>


## 11.1 Error 객체

Error 객체
- JS에 내장되어 있음
- Error 인스턴스를 만들어 에러 메시지를 지정할 수 있음

```javascript
const err = new Error('invalid emial');
```
- Error 인스턴스를 만드는 것 만으로는 아무 일도 일어나지 않음!
- instance of 연산자 사용하여 Error 발생하였는지 체크


<br>
<br>
<br>


## 11.2 try/catch와 예외 처리

try-catch 문
- 예외 처리 시 사용하는 문
- 뭔갈 시도하고(try), 예외가 있으면 그것을 캐치(catch)하라는 뜻이 잘 드러남

- 에러를 캐치하면 프로그램은 멈추지 않고 계속 돌아감
- 실행 흐름은 에러가 일어나는 즉시 catch 블록으로 이동함


<br>
<br>
<br>


## 11.3 에러 일으키기

프로그램에서 자동으로 에러가 발생하는 상황만을 기다리는 게 아닌
- throw
- raise
문을 통해 직접 에러를 일으켜서 예외처리 작업을 시도할 수 있음

JS는 다른 언어와 달리, 
Error를 일으킬때 객체 뿐 아니라 숫자, 문자열 등 어떤 값이든 catch 절에 넘길 수 있음

하지만 Error 인스턴스를 넘기는 것이 가장 편리함 && 대부분의 catch 블록은 Error 인스턴스를 받을 것이라고 예상


<br>
<br>
<br>


## 11.4 에외 처리와 호출 스택

- 호출 스택(call stack)
완료되지 않은 함수가 쌓이는 것
Ex) 함수 a가 함수 b를 호출, 함수 b가 함수 c를 호출
=> 함수 c가 실행을 마칠 때 실행흐름은 함수 b로 돌아감
=> 함수 b가 실행을 마칠 때 실행흐름은 함수 a로 돌아감


만약 위의 상황에서,
c에서 에러가 일어난다면,
b는 c에서 리턴한 값을 사용할 수도 있으므로 b에서도 에러남
똑같은 이유로 a에서도 에러남
=> Error는 캐치될때까지 호출스택을 따라 올라감
=> 어느곳에서도 발생한 Error를 캐치하지 않으면, JS 인터프리터는 프로그램을 멈춤

이것을 
- 처리하지 않은(unhandled) 예외
- 캐치하지 않은(uncaught) 예외
라고 하고 프로그램이 충돌하는 원인이 됨

에러를 캐치하면 호출스택에서 문제 해결에 유용한 정보를 얻을 수 있음
Ex)
만약 함수 c에서 에러가 발생하였음
-> 호출 스택을 통해, a -> b -> c 순서로 호출됨을 알게됨
-> 그리고 함수 c를 호출할 수 있는 곳에서도 해당 상황을 예상할 수 있음


대부분의 JS 환경에서 Error 인스턴스에는 스택을 문자열로 표현한 stack 프로퍼티가 있음
-> JS 표준은 아니지만, 대부분의 환경에서 지원


<br>
<br>
<br>


## 11.5 try...catch...finally

try 코드 내에서 
- HTTP 연결
- 파일 
등 일종의 '자원'을 처리할 때가 있음
-> 해당 자원은 해제해야 함

1. try 블록에서는 Error가 발생하면 자원을 해제할 기회가 사라질 수 있으니, try 블록에서 자원을 해제하는 것은 안전하지 않음
2. catch 블록 같은 경우에서는 Error가 발생하지 않으면 실행하지 않으니, catch 블록에서 자원을 해제하는 것은 안전하지 않음

∴ finally 블록이 필요함!

finally 블록은 에러가 일어나든, 일어나지 않든 반드시 호출됨!


<br>
<br>
<br>


## 11.6 요약

생략



<br>
<br>
<br>
<br>
<br>
<br>


