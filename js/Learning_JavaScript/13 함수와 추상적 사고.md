- 210719 : 1회독 -> 276 페이지부터 다시 읽기
- 210720 : 1회독 끝 -> 13.4 부터 다시 정리
- 210727 : 13.4부터 다시 정리 -> 13.6.2 부터 다시 정리
- 210729 : 13.6.2 부터 다시 정리 -> 끝

[송지원 전반적인 예시 코드는 생략함]

## 13.1 서브루틴으로서의 함수
## 13.2 값을 반환하는 서브루틴으로서의 함수
## 13.3 함수로서의 함수
## 13.4 그래서?
## 13.5 IIFE와 비동기적 코드
## 13.6 변수로서의 함수
## 13.7 재귀
## 13.8 요약

<br>
<br>
<br>
<br>


## 13. 함수와 추상적 사고

함수를 잘 활용하여 복잡한 문제를 해결하려는 방법을 생각.   
가장 간단한 생각은 함수는 코드를 재활용하는 수단이라는 점!


<br>
<br>
<br>


## 13.1 서브루틴으로서의 함수

**서브루틴(subrutine)**

- 프로시저, 루틴, 서브프로그램, 매크로등 다양한한 이름으로 불림.
- 모두 단순하고, 범용적인, 호출할 수 있는 한 단위
- JS에서는 서브루틴이라는 표현이 아닌 함수, 메소드라고 표현


서브루틴은 복잡한 코드를 간단하게 만드는 기초적인 수단
-> 반복되는 작업의 일부를 떼어내어 이름을 붙이고, 해당 이름을 콜 하면 됨


서브루틴은 대게 어떤 알고리즘(주어진 작업을 수행하는 방법)을 나타내는 형태

<br>
<br>
<br>


## 13.2 값을 반환하는 서브루틴으로서의 함수

한단계 더 추상화해서 함수를 값을 반환하는 서브루틴으로 생각해볼 수 있음


<br>
<br>
<br>


## 13.3 함수로서의 함수

수학적인 관점에서 함수는 일종의 '관계'
(입력이 들어가면 결과가 나오는 관계)

**순수 함수(pure function)**
- 수학적 정의에 충실한 함수
- 입력이 같으면 반드시 결과도 같음
- 부수 효과(side effect)가 없음 
=> 함수를 호출한다고 해서 프로그램의 상태가 바뀌는게 아님!


순수 함수로 만드는 법

1) 외부 변수를 클로저로 감싸는 방법

2) 이터레이터를 사용



<br>
<br>
<br>

## 13.4 그래서?

함수의 세가지 측면   
- 서브루틴
- 값을 반환하는 서브루틴
- 순수한 함수
이렇게 3가지 측면으로 나누는게 어떤 의미가 있는가?   


"왜 함수를 사용하는가?"   
-> 반복을 없애기 위해   


"왜 순수한 함수를 사용하는가?"   
-> 순수한 함수를 쓰면, 
- 코드를 테스트하기 쉽고
- 이해하기 쉽고
- 재사용하기도 쉬움



### 13.4.1 함수도 객체다
JS 함수는 Funciton 객체의 인스턴스

v를 함수라고 하면
- typeof v : 'function' 반환
- v instanceof Object : true 반환

∴ 함수인 것을 판별할때는 typeof 연산자를 활용하자~

<br>
<br>
<br>

## 13.5 IIFE와 비동기적 코드

IIFE를 사용하는 사례 중 하나는      
비동기적 코드가 정확히 동작할 수 있도록 새 변수를 새 스코프에 만드는 것


1) var를 사용한 예제   
- 1만 6번 출력됨

2) 함수 호출하는 예제   
- 5, 4, 3, 2, 1 출력됨   
하지만 함수의 이름을 붙이는 거 귀찮음

3) 익명한수를 만들어 IIFE 사용

4) 블록 스코프 변수(let) 사용


<br>
<br>
<br>

## 13.6 변수로서의 함수

함수도 변수와 마찬가지로 이리저지 전달할 수 있음   
함수는 호출되었을때 능동적이지만, 호출하기 전에는 변수와 같이 수동적   
ex) 마트에서 구매하는 과일과 믹서기 예시   

- 함수를 가리키는 변수를 만들어 별명을 정할 수 있음
- 배열에 함수를 넣을 수 있음. 물론 다른 타입의 데이터와 섞일 수 있음
- 함수를 객체의 프로퍼티로 사용할 수 있음(9장 내용)
- 함수를 함수에 전달할 수 있음
- 함수가 함수를 반환할 수 있음
- 함수를 매개변수로 받는 함수를 반환하는 것도 가능


1) 함수를 가리키는 변수를 만들어 별명을 정할 수 있음

만약 함수명이 너무 긴 함수가 존재한다고 가정.


### 13.6.1 배열 안의 함수

자주 하는 일을 한 셋으로 묶는 파이프라인이 좋은 예시


### 13.6.2 함수에 함수 전달

함수에 함수를 전달하는 용도는 

- 1) setTimeout, forEach와 같은 예시
- 2) 비동기적 프로그래밍   
이런 용도로 전달하는 함수를 보통 콜백(callback, cb)이라 부름   
콜백함수는 자기 자신을 감싼 함수가 실행을 마쳤을때 호출   
14장에서 자세히 설명

ex) 콜백함수를 사용해야하는 상황 설명

배열의 값을 모두 더해서 값을 리턴하는 함수
-> 제곱한 값을 모두 더하는 함수, 세제곱한 값을 모두 더하는 함수...등을 새로 짜는게 아니라,

제곱, 세제곱.. 등 처리를 해주는 부분을 콜백함수로 입력!

```
function sum(arr, f) {
	if (typeof f != 'function') f = x => x; //함수 입력받지 않으면, 자기자신 리턴하는 null 함수 사용

	return arr.reduce((acc, x) => a += f(x), 0);
}

sum([1,2,3]);				//6
sum([1,2,3], x => x * x);		//14
sum([1,2,3], x => Math.pow(x, 3));	//36

  
```


### 13.6.3 함수를 반환하는 함수

바로 위 상황에서, 배열과 함수를 입력받는 함수가 아니라, 배열 하나만 받아서 특정 작업을 하는 함수가 필요할때!


ex) 제곱의 합을 반환하는 함수
기존에 만들어낸 sum 함수를 활용하는 방법이 있음

```
function newSummer(f) {
	return arr => sum(arr, f);
}


const sumOfSquares = newSummer(x => x*x);
sumOfSquares([1, 2, 3])		//returns 14
```


위 처럼 매개변수 여러개를 받는 함수를 매개변수 하나만 받는 함수로 바꾸는 것을 커링(curring) 이라고 함!



<br>
<br>
<br>


## 13.7 재귀

재귀란 자기 자신을 초루하는 함수

재귀 함수에는 종료 조건이 있어야 함



<br>
<br>
<br>

## 13.8 요약

생략



<br>
<br>
<br>
<br>
<br>
<br>


